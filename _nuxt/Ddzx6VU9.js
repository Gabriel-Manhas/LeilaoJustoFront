import{_ as b,r as v,g as S,o as d,c as p,a as e,t as c,q as $,v as q,F as V,s as x,u as L,x as k,y as C,z as N,A as B,B as I,C as A,D as R,b as U,E as j,G as E,p as O,e as M,w as T,H as z,d as G}from"./FNMkCQ0d.js";import{_ as H}from"./AhUCsyeF.js";import{a as Q,b as J,c as K,_ as W}from"./M0zOnY-E.js";const X={class:"input-form-filter"},Y=["for"],Z=["id"],ee={value:""},te=["value"],se={__name:"Select-Filter",props:{id:String,title:String,options:Array,defaultValue:{type:String,default:"Todos"}},emits:["update:modelValue"],setup(t,{emit:m}){const a=t,r=m,s=v(""),i=()=>{r("update:modelValue",s.value)};return S(()=>a.options,()=>{s.value=""},{deep:!0}),(h,_)=>(d(),p("div",X,[e("label",{for:t.id},c(t.title),9,Y),$(e("select",{id:t.id,"onUpdate:modelValue":_[0]||(_[0]=l=>s.value=l),onChange:i},[e("option",ee,c(t.defaultValue),1),(d(!0),p(V,null,x(t.options,l=>(d(),p("option",{key:l.id,value:l.name},c(l.name),9,te))),128))],40,Z),[[q,s.value]])]))}},ie=b(se,[["__scopeId","data-v-520e81dd"]]),oe={class:"filter-item"},ae=["for"],le=["id","min","max","step"],ne={class:"slider-value"},ce={__name:"SliderFilter",props:{id:String,title:String,min:Number,max:Number,step:{type:Number,default:1},notChosenValue:{type:String,default:"Indefinido"},lastValue:{type:String,default:""}},emits:["update:modelValue"],setup(t,{emit:m}){const a=t,r=m,s=v(a.min);L(()=>{s.value=a.min,r("update:modelValue",s.value)});const i=k(()=>s.value===a.min?a.notChosenValue:s.value==a.max&&a.lastValue||s.value),h=()=>{r("update:modelValue",s.value)};return(_,l)=>(d(),p("div",oe,[e("label",{for:t.id},c(t.title),9,ae),$(e("input",{class:"slider-input",id:t.id,type:"range","onUpdate:modelValue":l[0]||(l[0]=f=>s.value=f),min:t.min,max:t.max,step:t.step,onInput:h},null,40,le),[[C,s.value]]),e("span",ne,c(i.value),1)]))}},re=b(ce,[["__scopeId","data-v-5b30cc0f"]]),de={class:"input-form-filter"},ue={class:"double-input-form"},me={class:"input-form-filter"},_e=["placeholder"],pe={class:"input-form-filter"},ve=["placeholder"],he={__name:"PriceRangeFilter",props:{title:{type:String,default:"Faixa de preço"},minPlaceholder:{type:String,default:"Mínimo"},maxPlaceholder:{type:String,default:"Máximo"}},emits:["update:modelValue"],setup(t,{emit:m}){const a=t,r=m,s=v(""),i=v(""),h=()=>{r("update:modelValue",{min:s.value,max:i.value})};return S(()=>a.modelValue,_=>{_&&(s.value=_.min,i.value=_.max)},{deep:!0}),(_,l)=>(d(),p("div",de,[e("label",null,c(t.title),1),e("div",ue,[e("div",me,[$(e("input",{type:"number",placeholder:t.minPlaceholder,"onUpdate:modelValue":l[0]||(l[0]=f=>s.value=f),onInput:h},null,40,_e),[[C,s.value]])]),e("div",pe,[$(e("input",{type:"number",placeholder:t.maxPlaceholder,"onUpdate:modelValue":l[1]||(l[1]=f=>i.value=f),onInput:h},null,40,ve),[[C,i.value]])])])]))}},fe=b(he,[["__scopeId","data-v-ca7f230e"]]),ge={class:"filter-item"},$e={class:"checkbox-container"},be=["id","value"],Ve=["for"],xe={__name:"CheckboxFilter",props:{title:String,options:Array},emits:["update:modelValue"],setup(t,{emit:m}){const a=t,r=m,s=v([]),i=()=>{r("update:modelValue",s.value)};return S(()=>a.options,()=>{s.value=[]},{deep:!0}),(h,_)=>(d(),p("div",ge,[e("label",null,c(t.title),1),e("div",$e,[(d(!0),p(V,null,x(t.options,l=>(d(),p("div",{key:l.id,class:"checkbox-item"},[$(e("input",{type:"checkbox",id:l.id,value:l.id,"onUpdate:modelValue":_[0]||(_[0]=f=>s.value=f),onChange:i},null,40,be),[[N,s.value]]),e("label",{for:l.id},c(l.name),9,Ve)]))),128))])]))}},w=b(xe,[["__scopeId","data-v-f4424d90"]]),D=t=>(O("data-v-77352eb2"),t=t(),M(),t),ye={id:"inside-nav"},Ce=D(()=>e("h2",null,"Filtros",-1)),Fe={class:"input-form-filter"},Se={key:0,class:"checkbox-group"},ke=D(()=>e("div",{class:"input-form-filter"},[e("input",{type:"submit",value:"Buscar",id:"btn-search-filter"})],-1)),Ie={__name:"FilterComponent",emits:["update:filters","close-filters"],setup(t,{emit:m}){const a=m,r=v(!1),s=v([]),i=B({}),h=v([]),_=k(()=>s.value.filter(o=>o.componentId!==4)),l=()=>{r.value=!r.value},f=()=>{a("update:filters",i),a("close-filters")},F=()=>{Object.keys(i).forEach(o=>{Array.isArray(i[o])?i[o]=[]:typeof i[o]=="object"?i[o]={min:"",max:""}:i[o]=""}),a("update:filters",i)};L(async()=>{try{const u=await(await fetch("/filters.json")).json();s.value=u.filters,s.value.forEach(n=>{n.componentId===4?(i[n.title]=[],h.value=n.categories):n.componentId===3?i[n.title]={min:"",max:""}:i[n.title]=""})}catch(o){console.error("Failed to load filters:",o)}});const g=o=>{switch(o){case 1:return ie;case 2:return re;case 3:return fe;case 4:return w;default:return null}};return(o,u)=>(d(),p("div",ye,[Ce,e("form",{id:"form-filter",onSubmit:E(f,["prevent"])},[(d(!0),p(V,null,x(R(_),n=>(d(),I(A(g(n.componentId)),{key:n.title,title:n.title,options:n.categories||[],min:n.minValue,max:n.maxValue,step:n.sumChange||1,"not-chosen-value":n.notChosenValue,"last-value":n.lastValue,modelValue:i[n.title],"onUpdate:modelValue":P=>i[n.title]=P},null,8,["title","options","min","max","step","not-chosen-value","last-value","modelValue","onUpdate:modelValue"]))),128)),e("div",Fe,[e("button",{type:"button",class:"outros-filtros-btn",onClick:l}," Outros Filtros "),r.value?(d(),p("div",Se,[U(w,{title:"Características",options:h.value,modelValue:i.characteristics,"onUpdate:modelValue":u[0]||(u[0]=n=>i.characteristics=n)},null,8,["options","modelValue"])])):j("",!0)]),e("div",{class:"double-input-form"},[e("div",{class:"input-form-filter"},[e("button",{type:"button",id:"btn-clean-filter",onClick:F}," Limpar ")]),ke])],32)]))}},Pe=b(Ie,[["__scopeId","data-v-77352eb2"]]),y=t=>(O("data-v-23232d87"),t=t(),M(),t),we={class:"reg-img"},qe=["alt"],Le={class:"reg-data"},Ue={class:"reg-type"},Oe={class:"reg-title"},Me={class:"reg-adress"},De={class:"reg-details"},Ne={class:"reg-meters"},Be=y(()=>e("img",{src:J,alt:"Ícone de metragem"},null,-1)),Ae={class:"reg-meters"},Re=y(()=>e("img",{src:K,alt:"Ícone de quartos"},null,-1)),je={class:"reg-meters"},Ee=y(()=>e("img",{src:W,alt:"Ícone de garagem"},null,-1)),Te={class:"values"},ze={class:"first-square"},Ge=y(()=>e("div",{class:"square-desc"},"1º Praça",-1)),He={class:"square-price"},Qe={class:"square-info"},Je={class:"second-square"},Ke=y(()=>e("div",{class:"square-desc"},"2º Praça",-1)),We={class:"square-price"},Xe={class:"square-info"},Ye={__name:"ListingItem",props:{item:{type:Object,required:!0}},setup(t){return(m,a)=>{const r=H;return d(),I(r,{to:"#",class:"register"},{default:T(()=>[e("div",we,[e("img",{src:Q,alt:t.item.title},null,8,qe)]),e("div",Le,[e("div",Ue,c(t.item.type),1),e("div",Oe,c(t.item.title),1),e("div",Me,c(t.item.address),1),e("div",De,[e("div",Ne,[Be,e("span",null,c(t.item.area),1)]),e("div",Ae,[Re,e("span",null,c(t.item.bedrooms),1)]),e("div",je,[Ee,e("span",null,c(t.item.parking),1)])]),e("div",Te,[e("div",ze,[Ge,e("div",He,c(t.item.firstPrice),1),e("div",Qe,c(t.item.firstDate),1)]),e("div",Je,[Ke,e("div",We,c(t.item.secondPrice),1),e("div",Xe,c(t.item.secondDate),1)])])])]),_:1})}}},Ze=b(Ye,[["__scopeId","data-v-23232d87"]]),et={id:"main",role:"main"},tt={id:"inside-main"},st={id:"list",class:"section"},it={id:"inside-list"},ot={class:"search-adress"},at=e("i",{class:"fas fa-star"},null,-1),lt=e("span",null,"Salvar busca",-1),nt=[at,lt],ct={class:"filter-register"},rt={class:"filter-history"},dt=["onClick"],ut={class:"list-options"},mt={class:"order-by"},_t=e("option",{value:"relevance"},"Relevância",-1),pt=e("option",{value:"price_asc"},"Menor preço",-1),vt=e("option",{value:"price_desc"},"Maior preço",-1),ht=[_t,pt,vt],ft=e("i",{class:"fas fa-filter"},null,-1),gt=e("span",null,"Filtros",-1),$t=[ft,gt],bt={class:"total-list"},Vt={class:"listing"},Ft={__name:"list",setup(t){const m=v(!1),a=v(""),r=v("relevance"),s=v(["Leilão","Imóveis residenciais"]);v("");const i=v([{id:1,type:"Apartamento",title:"Vila Uberabinha, São Paulo/SP",address:"Rua Pintassilgo, 31",area:"75m²",bedrooms:2,parking:1,firstPrice:"R$607.333,23",firstDate:"31/08/2024 às 11h30",secondPrice:"R$307.333,23",secondDate:"31/08/2024 às 11h35"}]),h=k(()=>{let g=i.value;return a.value&&(g=g.filter(o=>o.title.toLowerCase().includes(a.value.toLowerCase())||o.address.toLowerCase().includes(a.value.toLowerCase()))),r.value==="price_asc"?g.sort((o,u)=>parseFloat(o.firstPrice.replace(/[^0-9.-]+/g,""))-parseFloat(u.firstPrice.replace(/[^0-9.-]+/g,""))):r.value==="price_desc"&&g.sort((o,u)=>parseFloat(u.firstPrice.replace(/[^0-9.-]+/g,""))-parseFloat(o.firstPrice.replace(/[^0-9.-]+/g,""))),g}),_=()=>{m.value=!m.value},l=()=>{m.value=!1},f=g=>{s.value.splice(g,1)},F=()=>{console.log("Search saved")};return(g,o)=>(d(),p("div",null,[e("main",et,[e("div",tt,[e("nav",{id:"filters",class:z({"opened-filter":m.value,"closed-filter":!m.value})},[U(Pe,{onCloseFilters:l})],2),e("section",st,[e("div",it,[e("div",ot,[$(e("input",{type:"text",placeholder:"Buscar por endereço, cidade ou estado","onUpdate:modelValue":o[0]||(o[0]=u=>a.value=u)},null,512),[[C,a.value]]),e("div",{class:"save-search",onClick:F},nt)]),e("div",ct,[e("div",rt,[(d(!0),p(V,null,x(s.value,(u,n)=>(d(),p("div",{key:n,class:"set-filter"},[G(c(u)+" ",1),e("i",{class:"fas fa-times",onClick:P=>f(n)},null,8,dt)]))),128))]),e("div",ut,[e("div",mt,[$(e("select",{"onUpdate:modelValue":o[1]||(o[1]=u=>r.value=u)},ht,512),[[q,r.value]])]),e("div",{id:"open-filter",class:"open-filter",onClick:_},$t)])]),e("div",bt,c(h.value.length)+" oportunidades ",1),e("div",Vt,[(d(!0),p(V,null,x(h.value,u=>(d(),I(Ze,{key:u.id,item:u},null,8,["item"]))),128))])])])])])]))}};export{Ft as default};
